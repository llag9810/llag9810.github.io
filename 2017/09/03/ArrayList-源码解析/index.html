<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    <title>ArrayList 源码解析 | 萌妹子的小窝 | Android学习中/想学算法/游走在挂科边缘</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="">
    <meta name="description" content="ArrayList 简介ArrayList 是一个数组队列，相当于 动态数组。与Java中的数组相比，它的容量能动态增长。它继承于AbstractList，实现了List, RandomAccess, Cloneable, java.io.Serializable这些接口。
ArrayList 实现了 RandmoAccess 接口，即提供了随机访问功能。RandmoAccess 是 java 中">
<meta property="og:type" content="article">
<meta property="og:title" content="ArrayList 源码解析">
<meta property="og:url" content="http://llag9810.github.io/2017/09/03/ArrayList-源码解析/index.html">
<meta property="og:site_name" content="萌妹子的小窝">
<meta property="og:description" content="ArrayList 简介ArrayList 是一个数组队列，相当于 动态数组。与Java中的数组相比，它的容量能动态增长。它继承于AbstractList，实现了List, RandomAccess, Cloneable, java.io.Serializable这些接口。
ArrayList 实现了 RandmoAccess 接口，即提供了随机访问功能。RandmoAccess 是 java 中">
<meta property="og:updated_time" content="2018-02-03T05:21:39.116Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ArrayList 源码解析">
<meta name="twitter:description" content="ArrayList 简介ArrayList 是一个数组队列，相当于 动态数组。与Java中的数组相比，它的容量能动态增长。它继承于AbstractList，实现了List, RandomAccess, Cloneable, java.io.Serializable这些接口。
ArrayList 实现了 RandmoAccess 接口，即提供了随机访问功能。RandmoAccess 是 java 中">
    
        <link rel="alternative" href="/atom.xml" title="萌妹子的小窝" type="application/atom+xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/css/style.css?v=1.4.10">
    <script>window.lazyScripts=[]</script>
</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">yifan</h5>
          <a href="mailto:llag9810@outlook.com" title="llag9810@outlook.com" class="mail">llag9810@outlook.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/llag9810" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://www.weibo.com/llag9810" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">ArrayList 源码解析</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">ArrayList 源码解析</h1>
        <h5 class="subtitle">
            
                <time datetime="2017-09-03T04:41:55.000Z" itemprop="datePublished" class="page-time">
  2017-09-03
</time>


            
        </h5>
    </div>

    

</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#ArrayList-简介"><span class="post-toc-number">1.</span> <span class="post-toc-text">ArrayList 简介</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#ArrayList-属性"><span class="post-toc-number">2.</span> <span class="post-toc-text">ArrayList 属性</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#ArrayList-构造函数"><span class="post-toc-number">3.</span> <span class="post-toc-text">ArrayList 构造函数</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#默认构造函数（空参数）"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">默认构造函数（空参数）</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#接受一个-int-参数构造函数"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">接受一个 int 参数构造函数</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#接受一个-Collection-的构造"><span class="post-toc-number">3.3.</span> <span class="post-toc-text">接受一个 Collection 的构造</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#add-方法"><span class="post-toc-number">4.</span> <span class="post-toc-text">add 方法</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#一个参数的-add"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">一个参数的 add</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#两个参数的-add"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">两个参数的 add</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#get-方法"><span class="post-toc-number">5.</span> <span class="post-toc-text">get 方法</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#set方法"><span class="post-toc-number">6.</span> <span class="post-toc-text">set方法</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#contains方法"><span class="post-toc-number">7.</span> <span class="post-toc-text">contains方法</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#remove方法"><span class="post-toc-number">8.</span> <span class="post-toc-text">remove方法</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#根据-index-下标-remove"><span class="post-toc-number">8.1.</span> <span class="post-toc-text">根据 index 下标 remove</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#根据对象remove"><span class="post-toc-number">8.2.</span> <span class="post-toc-text">根据对象remove</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#trimToSize方法"><span class="post-toc-number">9.</span> <span class="post-toc-text">trimToSize方法</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#iterator"><span class="post-toc-number">10.</span> <span class="post-toc-text">iterator</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#小结"><span class="post-toc-number">11.</span> <span class="post-toc-text">小结</span></a></li></ol>
        </nav>
    </aside>
    
<article id="post-ArrayList-源码解析"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">ArrayList 源码解析</h1>
        <div class="post-meta">
            <time class="post-time" title="2017年09月03日 12:41" datetime="2017-09-03T04:41:55.000Z"  itemprop="datePublished">2017-09-03</time>

            


            

            

        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h1 id="ArrayList-简介"><a href="#ArrayList-简介" class="headerlink" title="ArrayList 简介"></a>ArrayList 简介</h1><p>ArrayList 是一个数组队列，相当于 动态数组。与Java中的数组相比，它的容量能动态增长。它继承于AbstractList，实现了List, RandomAccess, Cloneable, java.io.Serializable这些接口。</p>
<p>ArrayList 实现了 RandmoAccess 接口，即提供了随机访问功能。RandmoAccess 是 java 中用来被 List 实现，为 List 提供快速访问功能的。在 ArrayList 中，我们即可以通过元素的序号快速获取元素对象；这就是快速随机访问。稍后，我们会比较List的“快速随机访问”和“通过 Iterator 迭代器访问”的效率。</p>
<p>ArrayList 实现了 Cloneable 接口，即覆盖了函数<code>clone()</code>，能被克隆。</p>
<p>ArrayList 实现 <code>java.io.Serializable</code> 接口，这意味着 ArrayList 支持序列化，能通过序列化去传输。</p>
<p>下面让我们翻开 ArrayList 的源代码，看看一些常用的方法属性，以及一些需要注意的地方。</p>
<h1 id="ArrayList-属性"><a href="#ArrayList-属性" class="headerlink" title="ArrayList 属性"></a>ArrayList 属性</h1><p>ArrayList 属性主要就是当前数组长度size，以及存放数组的对象    elementData 数组，除此之外还有一个经常用到的属性就是从 AbstractList 继承过来的 modCount 属性，代表ArrayList集合的修改次数。关于modCount的作用后面讲到。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayList</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">AbstractList</span>&lt;<span class="title">E</span>&gt; <span class="keyword">implements</span> <span class="title">List</span>&lt;<span class="title">E</span>&gt;, <span class="title">RandomAccess</span>, <span class="title">Cloneable</span>, <span class="title">Serializable</span> </span>&#123;  </div><div class="line">    <span class="comment">// 序列化id  </span></div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">8683452581122892189L</span>;  </div><div class="line">    <span class="comment">// 默认初始的容量  </span></div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> DEFAULT_CAPACITY = <span class="number">10</span>;  </div><div class="line">    <span class="comment">// 一个空对象  </span></div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Object[] EMPTY_ELEMENTDATA = <span class="keyword">new</span> Object[<span class="number">0</span>];  </div><div class="line">    <span class="comment">// 一个空对象，如果使用默认构造函数创建，则默认对象内容默认是该值  </span></div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Object[] DEFAULTCAPACITY_EMPTY_ELEMENTDATA = <span class="keyword">new</span> Object[<span class="number">0</span>];  </div><div class="line">    <span class="comment">// 当前数据对象存放地方，当前对象不参与序列化  </span></div><div class="line">    <span class="keyword">transient</span> Object[] elementData;  </div><div class="line">    <span class="comment">// 当前数组长度  </span></div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size;  </div><div class="line">    <span class="comment">// 数组最大长度  </span></div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MAX_ARRAY_SIZE = <span class="number">2147483639</span>;  </div><div class="line">  </div><div class="line">    <span class="comment">// 省略方法</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="ArrayList-构造函数"><a href="#ArrayList-构造函数" class="headerlink" title="ArrayList 构造函数"></a>ArrayList 构造函数</h1><h2 id="默认构造函数（空参数）"><a href="#默认构造函数（空参数）" class="headerlink" title="默认构造函数（空参数）"></a>默认构造函数（空参数）</h2><p>也就是我们最常用的不带参数的构造，<br>如果不传入参数，则使用默认无参构建方法创建ArrayList对象，如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="title">ArrayList</span><span class="params">()</span> </span>&#123;  </div><div class="line">    <span class="keyword">this</span>.elementData = DEFAULTCAPACITY_EMPTY_ELEMENTDATA;  </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>注意：此时我们创建的ArrayList对象中的 elementData 中的长度是1，size 是 0 ,当进行第一次add的时候，elementData 将会变成默认的长度：10。</p>
<h2 id="接受一个-int-参数构造函数"><a href="#接受一个-int-参数构造函数" class="headerlink" title="接受一个 int 参数构造函数"></a>接受一个 int 参数构造函数</h2><p>如果传入参数，则代表指定ArrayList的初始数组长度，传入参数如果是大于等于0，则使用用户的参数初始化，如果用户传入的参数小于0，则抛出异常，构造方法如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="title">ArrayList</span><span class="params">(<span class="keyword">int</span> initialCapacity)</span> </span>&#123;  </div><div class="line">    <span class="keyword">if</span> (initialCapacity &gt; <span class="number">0</span>) &#123;  </div><div class="line">        <span class="keyword">this</span>.elementData = <span class="keyword">new</span> Object[initialCapacity];  </div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (initialCapacity == <span class="number">0</span>) &#123;  </div><div class="line">        <span class="keyword">this</span>.elementData = EMPTY_ELEMENTDATA;  </div><div class="line">    &#125; <span class="keyword">else</span> &#123;  </div><div class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"Illegal Capacity: "</span>+ initialCapacity);  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="接受一个-Collection-的构造"><a href="#接受一个-Collection-的构造" class="headerlink" title="接受一个 Collection 的构造"></a>接受一个 Collection 的构造</h2><p>在构造一个 ArrayList 时，可以直接传入一个<code>Collection</code>，将已有的集合构造为一个 List。构造过程可以概括为：</p>
<p>(1) 将collection对象转换成数组，然后将数组的地址的赋给elementData。</p>
<p>(2) 更新size的值，同时判断size的大小，如果是size等于0，直接将空对象EMPTY_ELEMENTDATA的地址赋给elementData</p>
<p>(3) 如果size的值大于0，则执行Arrays.copy方法，把 collection 对象的内容（可以理解为深拷贝）copy到elementData中。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="title">ArrayList</span><span class="params">(Collection&lt;? extends E&gt; c)</span> </span>&#123;  </div><div class="line">    elementData = c.toArray();  </div><div class="line">    <span class="keyword">if</span> ((size = elementData.length) != <span class="number">0</span>) &#123;  </div><div class="line">        <span class="comment">// c.toArray might (incorrectly) not return Object[] (see 6260652)  </span></div><div class="line">        <span class="keyword">if</span> (elementData.getClass() != Object[].class)  </div><div class="line">            elementData = Arrays.copyOf(elementData, size, Object[].class);  </div><div class="line">    &#125; <span class="keyword">else</span> &#123;  </div><div class="line">        <span class="comment">// replace with empty array.  </span></div><div class="line">        <span class="keyword">this</span>.elementData = EMPTY_ELEMENTDATA;  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="add-方法"><a href="#add-方法" class="headerlink" title="add 方法"></a>add 方法</h1><p>add 的方法有两个，一个是带一个参数的，一个是带两个参数的，下面我们一个个讲解。</p>
<h2 id="一个参数的-add"><a href="#一个参数的-add" class="headerlink" title="一个参数的 add"></a>一个参数的 add</h2><p><code>add(E e)</code> 方法主要的执行逻辑如下：</p>
<p>1）确保数组已使用长度（size）加1之后足够存下 下一个数据</p>
<p>2）修改次数modCount 标识自增1，如果当前数组已使用长度（size）加1后的大于当前的数组长度，则调用grow方法，增长数组，grow方法会将当前数组的长度变为原来容量的1.5倍。</p>
<p>3）确保新增的数据有地方存储之后，则将新元素添加到位于size的位置上。</p>
<p>4）返回添加成功布尔值。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span> </span>&#123;  </div><div class="line">    ensureCapacityInternal(size + <span class="number">1</span>);  <span class="comment">// Increments modCount!!  </span></div><div class="line">    elementData[size++] = e;  </div><div class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>确保添加的元素有地方存储，当第一次添加元素的时候this.size+1 的值是1，所以第一次添加的时候会将当前elementData数组的长度变为10：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ensureCapacityInternal</span><span class="params">(<span class="keyword">int</span> minCapacity)</span> </span>&#123;  </div><div class="line">    <span class="keyword">if</span> (elementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA) &#123;  </div><div class="line">        minCapacity = Math.max(DEFAULT_CAPACITY, minCapacity);  </div><div class="line">    &#125;  </div><div class="line">  </div><div class="line">    ensureExplicitCapacity(minCapacity);  </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>将修改次数（modCount）自增1，判断是否需要扩充数组长度,判断条件就是用当前所需的数组最小长度与数组的长度对比，如果大于0，则增长数组长度。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ensureExplicitCapacity</span><span class="params">(<span class="keyword">int</span> minCapacity)</span> </span>&#123;  </div><div class="line">    modCount++;  </div><div class="line">  </div><div class="line">    <span class="comment">// overflow-conscious code  </span></div><div class="line">    <span class="keyword">if</span> (minCapacity - elementData.length &gt; <span class="number">0</span>)  </div><div class="line">        grow(minCapacity);  </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>如果当前的数组已使用空间（size）加1之后 大于数组长度，则增大数组容量，扩大为原来的1.5倍。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">grow</span><span class="params">(<span class="keyword">int</span> arg0)</span> </span>&#123;  </div><div class="line">    <span class="keyword">int</span> arg1 = <span class="keyword">this</span>.elementData.length;  </div><div class="line">    <span class="keyword">int</span> arg2 = arg1 + (arg1 &gt;&gt; <span class="number">1</span>);  </div><div class="line">    <span class="keyword">if</span> (arg2 - arg0 &lt; <span class="number">0</span>) &#123;  </div><div class="line">        arg2 = arg0;  </div><div class="line">    &#125;  </div><div class="line">  </div><div class="line">    <span class="keyword">if</span> (arg2 - <span class="number">2147483639</span> &gt; <span class="number">0</span>) &#123;  </div><div class="line">        arg2 = hugeCapacity(arg0);  </div><div class="line">    &#125;  </div><div class="line">  </div><div class="line">    <span class="keyword">this</span>.elementData = Arrays.copyOf(<span class="keyword">this</span>.elementData, arg2);  </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="两个参数的-add"><a href="#两个参数的-add" class="headerlink" title="两个参数的 add"></a>两个参数的 add</h2><p><code>add(int index, E element)</code>方法其实和上面的add类似，该方法可以按照元素的位置，指定位置插入元素，具体的执行逻辑如下：</p>
<p>1）确保数插入的位置小于等于当前数组长度，并且不小于0，否则抛出异常</p>
<p>2）确保数组已使用长度（size）加1之后足够存下 下一个数据</p>
<p>3）修改次数（modCount）标识自增1，如果当前数组已使用长度（size）加1后的大于当前的数组长度，则调用grow方法，增长数组</p>
<p>4）grow方法会将当前数组的长度变为原来容量的1.5倍。</p>
<p>5）确保有足够的容量之后，使用System.arraycopy 将需要插入的位置（index）后面的元素统统往后移动一位。</p>
<p>6）将新的数据内容存放到数组的指定位置（index）上。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> index, E element)</span> </span>&#123;  </div><div class="line">    rangeCheckForAdd(index);  </div><div class="line">  </div><div class="line">    ensureCapacityInternal(size + <span class="number">1</span>);  <span class="comment">// Increments modCount!!  </span></div><div class="line">    System.arraycopy(elementData, index, elementData, index + <span class="number">1</span>,  </div><div class="line">                     size - index);  </div><div class="line">    elementData[index] = element;  </div><div class="line">    size++;  </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>注意：使用该方法的话将导致指定位置后面的数组元素全部重新移动，即往后移动一位。</p>
<h1 id="get-方法"><a href="#get-方法" class="headerlink" title="get 方法"></a>get 方法</h1><p>返回指定位置元素。不多讲<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> E <span class="title">get</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;  </div><div class="line">    rangeCheck(index);  </div><div class="line">    checkForComodification();  </div><div class="line">    <span class="keyword">return</span> ArrayList.<span class="keyword">this</span>.elementData(offset + index);  </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h1 id="set方法"><a href="#set方法" class="headerlink" title="set方法"></a>set方法</h1><p>确保set的位置小于当前数组的长度（size）并且大于0，获取指定位置（index）元素，然后放到 oldValue 存放，将需要设置的元素放到指定的位置（index）上，然后将原来位置上的元素 oldValue 返回给用户。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> E <span class="title">set</span><span class="params">(<span class="keyword">int</span> index, E element)</span> </span>&#123;  </div><div class="line">    rangeCheck(index);  </div><div class="line">  </div><div class="line">    E oldValue = elementData(index);  </div><div class="line">    elementData[index] = element;  </div><div class="line">    <span class="keyword">return</span> oldValue;  </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h1 id="contains方法"><a href="#contains方法" class="headerlink" title="contains方法"></a>contains方法</h1><p>调用 indexOf 方法，遍历数组中的每一个元素作对比，如果找到对于的元素，则返回 true，没有找到则返回 false。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(Object o)</span> </span>&#123;  </div><div class="line">    <span class="keyword">return</span> indexOf(o) &gt;= <span class="number">0</span>;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">indexOf</span><span class="params">(Object o)</span> </span>&#123;  </div><div class="line">    <span class="keyword">if</span> (o == <span class="keyword">null</span>) &#123;  </div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++)  </div><div class="line">            <span class="keyword">if</span> (elementData[i]==<span class="keyword">null</span>)  </div><div class="line">                <span class="keyword">return</span> i;  </div><div class="line">    &#125; <span class="keyword">else</span> &#123;  </div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++)  </div><div class="line">            <span class="keyword">if</span> (o.equals(elementData[i]))  </div><div class="line">                <span class="keyword">return</span> i;  </div><div class="line">    &#125;  </div><div class="line">    <span class="keyword">return</span> -<span class="number">1</span>;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="remove方法"><a href="#remove方法" class="headerlink" title="remove方法"></a>remove方法</h1><h2 id="根据-index-下标-remove"><a href="#根据-index-下标-remove" class="headerlink" title="根据 index 下标 remove"></a>根据 index 下标 remove</h2><p>1）判断下标有没有越界</p>
<p>2）自增 modCount</p>
<p>3）将指定位置（index）上的元素保存到 oldValue</p>
<p>4）将指定位置（index）上的元素都往前移动一位</p>
<p>5）将最后面的一个元素置空，好让垃圾回收器回收</p>
<p>6）将原来的值 oldValue 返回</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> E <span class="title">remove</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;  </div><div class="line">    rangeCheck(index);  </div><div class="line">  </div><div class="line">    modCount++;  </div><div class="line">    E oldValue = elementData(index);  </div><div class="line">  </div><div class="line">    <span class="keyword">int</span> numMoved = size - index - <span class="number">1</span>;  </div><div class="line">    <span class="keyword">if</span> (numMoved &gt; <span class="number">0</span>)  </div><div class="line">        System.arraycopy(elementData, index+<span class="number">1</span>, elementData, index,  </div><div class="line">                         numMoved);  </div><div class="line">    elementData[--size] = <span class="keyword">null</span>; <span class="comment">// clear to let GC do its work  </span></div><div class="line">  </div><div class="line">    <span class="keyword">return</span> oldValue;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>注意：调用这个方法不会缩减数组的长度，只是将最后一个数组元素置空而已。</p>
<h2 id="根据对象remove"><a href="#根据对象remove" class="headerlink" title="根据对象remove"></a>根据对象remove</h2><p>循环遍历所有对象，得到对象所在索引位置，然后调用fastRemove方法，执行remove操作</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(Object o)</span> </span>&#123;  </div><div class="line">    <span class="keyword">if</span> (o == <span class="keyword">null</span>) &#123;  </div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; size; index++)  </div><div class="line">            <span class="keyword">if</span> (elementData[index] == <span class="keyword">null</span>) &#123;  </div><div class="line">                fastRemove(index);  </div><div class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;  </div><div class="line">            &#125;  </div><div class="line">    &#125; <span class="keyword">else</span> &#123;  </div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; size; index++)  </div><div class="line">            <span class="keyword">if</span> (o.equals(elementData[index])) &#123;  </div><div class="line">                fastRemove(index);  </div><div class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;  </div><div class="line">            &#125;  </div><div class="line">    &#125;  </div><div class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>定位到需要remove的元素索引，先将index后面的元素往前面移动一位（调用<code>System.arrayCopy</code>实现），然后将最后一个元素置空。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">fastRemove</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;  </div><div class="line">    modCount++;  </div><div class="line">    <span class="keyword">int</span> numMoved = size - index - <span class="number">1</span>;  </div><div class="line">    <span class="keyword">if</span> (numMoved &gt; <span class="number">0</span>)  </div><div class="line">        System.arraycopy(elementData, index+<span class="number">1</span>, elementData, index,  </div><div class="line">                         numMoved);  </div><div class="line">    elementData[--size] = <span class="keyword">null</span>; <span class="comment">// clear to let GC do its work  </span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h1 id="trimToSize方法"><a href="#trimToSize方法" class="headerlink" title="trimToSize方法"></a>trimToSize方法</h1><p>1）modCount 加1</p>
<p>2）将 elementData 中空余的空间（包括null值）去除，例如：数组长度为10，其中只有前三个元素有值，其他为空，那么调用该方法之后，数组的长度变为3。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">trimToSize</span><span class="params">()</span> </span>&#123;  </div><div class="line">    modCount++;  </div><div class="line">    <span class="keyword">if</span> (size &lt; elementData.length) &#123;  </div><div class="line">        elementData = (size == <span class="number">0</span>)  </div><div class="line">          ? EMPTY_ELEMENTDATA  </div><div class="line">          : Arrays.copyOf(elementData, size);  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h1 id="iterator"><a href="#iterator" class="headerlink" title="iterator"></a>iterator</h1><p>iterator 方法返回的是一个内部类，由于内部类的创建默认含有外部的 this指针，所以这个内部类可以调用到外部类的属性。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> Iterator&lt;E&gt; <span class="title">iterator</span><span class="params">()</span> </span>&#123;  </div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Itr();  </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>一般的话，调用完<code>iterator()</code>之后，我们会使用迭代器做遍历，这里使用next做遍历的时候有个需要注意的地方，就是调用next的时候，可能会引发<code>ConcurrentModificationException</code>，当修改次数，与期望的修改次数（调用iterator方法时候的修改次数）不一致的时候，会发生该异常，详细我们看一下代码实现：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)  </div><div class="line"><span class="function"><span class="keyword">public</span> E <span class="title">next</span><span class="params">()</span> </span>&#123;  </div><div class="line">    checkForComodification();  </div><div class="line">    <span class="keyword">int</span> i = cursor;  </div><div class="line">    <span class="keyword">if</span> (i &gt;= size)  </div><div class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> NoSuchElementException();  </div><div class="line">    Object[] elementData = ArrayList.<span class="keyword">this</span>.elementData;  </div><div class="line">    <span class="keyword">if</span> (i &gt;= elementData.length)  </div><div class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> ConcurrentModificationException();  </div><div class="line">    cursor = i + <span class="number">1</span>;  </div><div class="line">    <span class="keyword">return</span> (E) elementData[lastRet = i];  </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>expectedModCount 这个值是在用户调用 ArrayList 的 iterator 方法时候确定的，但是在这之后用户 add ，或者 remove 了 ArrayList 的元素，那么 modCount 就会改变，那么这个值就会不相等，将会引发 ConcurrentModificationException 异常，这个是在多线程使用情况下，比较常见的一个异常。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">final</span> <span class="keyword">void</span> <span class="title">checkForComodification</span><span class="params">()</span> </span>&#123;  </div><div class="line">    <span class="keyword">if</span> (modCount != expectedModCount)  </div><div class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> ConcurrentModificationException();  </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h1 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h1><p>ArrayList还有以下一些特点：</p>
<ul>
<li>ArrayList自己实现了序列化和反序列化的方法，因为它自己实现了 <code>private void writeObject(java.io.ObjectOutputStream s)</code>和 <code>private void readObject(java.io.ObjectInputStream s)</code>方法</li>
<li>ArrayList基于数组方式实现，无容量的限制（数组填满时会扩容至原容量的1.5倍）</li>
<li>删除元素时不会减少容量（若希望减少容量，trimToSize()），删除元素时，将删除掉的位置元素置为null，下次gc就会回收这些元素所占的内存空间。</li>
<li>线程不安全</li>
<li>add(int index, E element)：添加元素到数组中指定位置的时候，需要将该位置及其后边所有的元素都整块向后复制一位</li>
<li>get(int index)：获取指定位置上的元素时，可以通过索引直接获取（O(1)）</li>
<li>remove(Object o)需要遍历数组</li>
<li>remove(int index)不需要遍历数组，只需判断index是否符合条件即可，效率比remove(Object o)高</li>
<li>contains(E)需要遍历数组</li>
<li>使用iterator遍历时不能做修改，否则会引发多线程异常</li>
</ul>

        </div>

        <blockquote class="post-copyright">
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2018-02-03T05:21:39.116Z" itemprop="dateUpdated">2018年2月3日 13:21</time>
</span><br>


        这里写留言或版权声明：<a href="/2017/09/03/ArrayList-源码解析/" target="_blank" rel="external">http://llag9810.github.io/2017/09/03/ArrayList-源码解析/</a>
    </div>
    <footer>
        <a href="http://llag9810.github.io">
            <img src="/img/avatar.jpg" alt="yifan">
            yifan
        </a>
    </footer>
</blockquote>

        


        <div class="post-footer">
            

            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://llag9810.github.io/2017/09/03/ArrayList-源码解析/&title=《ArrayList 源码解析》 — 萌妹子的小窝&pic=http://llag9810.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://llag9810.github.io/2017/09/03/ArrayList-源码解析/&title=《ArrayList 源码解析》 — 萌妹子的小窝&source=Android learner" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://llag9810.github.io/2017/09/03/ArrayList-源码解析/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《ArrayList 源码解析》 — 萌妹子的小窝&url=http://llag9810.github.io/2017/09/03/ArrayList-源码解析/&via=http://llag9810.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://llag9810.github.io/2017/09/03/ArrayList-源码解析/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between flex-row-reverse">
  

  
    <div class="waves-block waves-effect next">
      <a href="/2017/06/21/Java-虚拟机（一）/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">Java 虚拟机（一）</h4>
      </a>
    </div>
  
</nav>



    

<div class="comments" id="comments">
    <div class="ds-thread" data-thread-key="ArrayList-源码解析" data-title="ArrayList 源码解析" data-url="http://llag9810.github.io/2017/09/03/ArrayList-源码解析/"></div>
</div>
<script>
lazyScripts.push('//cdn.bootcss.com/marked/0.3.6/marked.min.js');

var duoshuoQuery = {short_name:'ysblog', theme: 'none'};
lazyScripts.push('/js/embed.min.js?v=1.4.10');


</script>







</article>



</div>

        <footer class="footer">
    <div class="top">
        

        <p>
            <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            <span>博客内容遵循 <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">知识共享 署名 - 非商业性 - 相同方式共享 4.0协议</a></span>
        </p>
    </div>
    <div class="bottom">
        <p>
            <span>Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a></span>
            <span>萌妹子的小窝 &copy; 2017 - 2018</span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://llag9810.github.io/2017/09/03/ArrayList-源码解析/&title=《ArrayList 源码解析》 — 萌妹子的小窝&pic=http://llag9810.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://llag9810.github.io/2017/09/03/ArrayList-源码解析/&title=《ArrayList 源码解析》 — 萌妹子的小窝&source=Android learner" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://llag9810.github.io/2017/09/03/ArrayList-源码解析/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《ArrayList 源码解析》 — 萌妹子的小窝&url=http://llag9810.github.io/2017/09/03/ArrayList-源码解析/&via=http://llag9810.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://llag9810.github.io/2017/09/03/ArrayList-源码解析/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=http://llag9810.github.io/2017/09/03/ArrayList-源码解析/" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: false };



</script>

<script src="/js/main.min.js?v=1.4.10"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/js/search.min.js?v=1.4.10" async></script>







</body>
</html>
